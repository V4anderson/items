
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>


</head>
<body onload="carregar()">

<div id="DivInterna">
    <div id="DivRetangular">
        <div id="DivImagem">
            <div id="DivTitulo">X - Bacon</div>
            <div id="DivPreco">R$2,50</div><button>COMPRAR</button>
            <!--<div id="DivDescricao">Descrição</div>-->
        </div><hr>
    </div>
    <div id="DivRetangular">
        <div id="DivImagem">
            <div id="DivTitulo">X - Bacon</div>
            <div id="DivPreco">R$2,50</div><button>COMPRAR</button>
            <!--<div id="DivDescricao">Descrição</div>-->
        </div><hr>
    </div>
    <div id="DivRetangular">
        <div id="DivImagem">
            <div id="DivTitulo">X - Bacon</div>
            <div id="DivPreco">R$2,50</div><button>COMPRAR</button>
            <!--<div id="DivDescricao">Descrição</div>-->
        </div><hr>
    </div>
</div>


<script>
var c = 0
var URL_TO_FETCH = 'https://spreadsheets.google.com/feeds/cells/1HwYDFUXg95vvdPuc-MZ3_8HCc7U0ajlhTyc2m2XVFWw/od6/public/basic?alt=json'
var objeto = {}
var h5 = document.createElement('h5')
var lista = document.getElementById('DivInterna')
var cc = 0

var atualizacao = () =>{
  
fetch(URL_TO_FETCH, { 
method: 'get' // 
})
.then(function(response) { 
response.text()
.then(function(result){ 
objeto = JSON.parse(result) 
//console.log(objeto)
while(c < objeto['feed']['entry'].length) {
//console.log(objeto['feed']['entry'][c]['content']['$t'])

h5 = document.createElement('h5')
h5.innerHTML = objeto['feed']['entry'][c]['content']['$t']
h5.className="blue-text header col s12 "
lista.appendChild(h5).innerHTML = '<div id="DivRetangular"><div id="DivImagem"><div id="DivTitulo">X - Bacon</div><div id="DivPreco">R$2,50</div><button>COMPRAR</button><!--<div id="DivDescricao">Descrição</div>--></div><hr></div></div>'
    

c+=1  
}
})
})
.catch(function(err) { console.error(err); });
}
setInterval(atualizacao,1000)
</script>
</body>
</html>
